{{ if .IsHome -}}
	<script type="application/ld+json">
	{
		"@context": "https://schema.org",
		"@type": "WebSite",
		"@id": {{ site.Home.Permalink | safeURL }},
		"name": "{{ site.Title | safeJS }}",
		{{ with site.Params.description }}"description": "{{ . | safeJS }}",{{ end }}
		{{ with site.LanguageCode }}"inLanguage": "{{ . }}",{{ end }}
		"url": {{ site.Home.Permalink | safeURL }},
		"publisher" : {
			"@type": "Person",
			"name": "{{ site.Params.author.name | safeJS }}"
		}
	}
	</script>
{{ else }}
	{{- $iso8601 := "2006-01-02T15:04:05-07:00" -}}
	<script type="application/ld+json">
	[{
	"@context": "https://schema.org",
	"@type": "Article",
	"articleSection": "{{ (site.GetPage .Section).Title | safeJS }}",
	"name": "{{ .Title | safeJS }}",
	"headline": "{{ .Title | safeJS }}",
	{{ with .Description }}"description": "{{ . | safeJS }}",{{ end }}
	{{ with site.LanguageCode }}"inLanguage": "{{ . }}",{{ end }}
	"url" : {{ .Permalink }},
	"author" : {
		"@type": "Person",
		"name": "{{ site.Params.author.name | safeJS }}"
	},
	{{ with .PublishDate }}"copyrightYear": "{{ .Format "2006" }}",{{ end }}
	{{ with .Date }}"dateCreated": "{{ .Format $iso8601 }}",{{ end }}
	{{ with .PublishDate }}"datePublished": "{{ .Format $iso8601 }}",{{ end }}
	{{ with .ExpiryDate }}"expires": "{{ .Format $iso8601 }}",{{ end }}
	{{ with .Lastmod }}"dateModified": "{{ .Format $iso8601 }}",{{ end }}
	"mainEntityOfPage": "true",
	"wordCount": "{{ .WordCount }}"
	}{{ if site.Params.breadcrumbSchema | default false }},
	{
	"@context": "https://schema.org",
	"@type": "BreadcrumbList",
	"itemListElement": [
		{{- $position := 0 -}}
		{{- range .Ancestors -}}
		{{- if not .IsHome -}}
			{{- $position = add $position 1 -}}
			{
			"@type": "ListItem",
			"position": {{ $position }},
			"name": "{{ .Title }}",
			"item": {{ .Permalink }}
			},
		{{- end -}}
		{{- end -}}
		{{- $position = add $position 1 -}}
		{
		"@type": "ListItem",
		"position": {{ $position }},
		"name": "{{ .Title }}",
		"item": {{ .Permalink }}
		}
	]
	}{{ end }}]
	</script>
{{ end }}
